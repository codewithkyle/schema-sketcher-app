(async()=>(window.location.hostname!=="localhost"&&"serviceWorker"in navigator&&await new Promise(s=>{navigator.serviceWorker.register("/service-worker.js",{scope:"/"}),navigator.serviceWorker.addEventListener("message",e=>{localStorage.setItem("version",e.data)}),navigator.serviceWorker.ready.then(async e=>{try{await import("/static/service-worker-assets.js?t="+Date.now()),self.manifest.version!==localStorage.getItem("version")?localStorage.removeItem("version"):delete self.manifest.assets,e.active.postMessage(self.manifest)}catch{e.active.postMessage({version:localStorage.getItem("version")||"init"})}s()})}),await import("/js/routes.js")))();
