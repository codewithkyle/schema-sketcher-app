import r from"./alerts.js";(async()=>{window.location.hostname!=="localhost"&&"serviceWorker"in navigator&&new Promise(async e=>{let s=!1;await new Promise(a=>{navigator.serviceWorker.register("/service-worker.js",{scope:"/"}),navigator.serviceWorker.addEventListener("message",t=>{localStorage.setItem("version",t.data),a()}),navigator.serviceWorker.ready.then(async t=>{try{await import("/service-worker-assets.js?t="+Date.now()),self.manifest.version!==localStorage.getItem("version")?(localStorage.removeItem("version"),s=!0,t.active.postMessage(self.manifest)):a()}catch{a()}})}),s&&r.snackbar("Schema Sketcher is ready to work offline"),e()});const o=location.hash;if(o.indexOf("#data:")===0){const e=o.slice(6);sessionStorage.setItem("data",e)}history.replaceState(null,"","/"),import("/js/routes.js")})();
