var p=async(e,a=[{}],c=null)=>{Array.isArray(a)||(a=[a]),a[0].fileName=a[0].fileName||"Untitled";const s=[];let t=null;if(e instanceof Blob&&e.type?t=e.type:e.headers&&e.headers.get("content-type")&&(t=e.headers.get("content-type")),a.forEach((i,o)=>{s[o]={description:i.description||"",accept:{}},i.mimeTypes?(o===0&&t&&i.mimeTypes.push(t),i.mimeTypes.map(n=>{s[o].accept[n]=i.extensions||[]})):t&&(s[o].accept[t]=i.extensions||[])}),c)try{await c.getFile()}catch(i){throw console.error(i),i}const r=c||await window.showSaveFilePicker({suggestedName:a[0].fileName,id:a[0].id,types:s,excludeAcceptAllOption:a[0].excludeAcceptAllOption||!1}),l=await r.createWritable();return"stream"in e?(await e.stream().pipeTo(l),r):"body"in e?(await e.body.pipeTo(l),r):(await l.write(await e),await l.close(),r)},f=p;export{f as default};
